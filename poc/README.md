# PoC: AI駆動型科学プロセス最適化シミュレーター

## 概要

本PoCは、論文「Science in the Loop: AI時代における科学研究のプロセスマネジメントと最適化」の中核的主張を定量的に検証するシミュレーション実験である。

**検証する仮説**: 産業界で発展したプロセスマネジメント理論（制約理論・PDCA）を科学研究に適用し、さらにAIがプロセス全体を自律的に最適化することで、研究スループットを有意に向上させることができる。

## 実験設計

### 科学パイプラインのモデル化

科学研究プロセスを以下の6段階パイプラインとしてモデル化する：

```
Survey → Hypothesis → Experiment → Analysis → Writing → Review
```

各プロセスには以下のパラメータを設定：
- **スループット**: 単位時間あたりの処理能力
- **不確実性**: 手戻り（rework）が発生する確率
- **失敗率**: 完全な失敗が起きる確率
- **AI自動化可能度**: AIで自動化できる割合
- **人間レビュー必要度**: 人間の確認が必要な割合

論文が指摘する「人間がボトルネックになる」現象もモデルに組み込んでいる：AI支援レベルが高く、かつ人間レビュー必要度が高いプロセスでは、人間の評価能力がボトルネックとなりスループットが低下する。

### 比較する3条件

| 戦略 | 論文との対応 | 説明 |
|------|-------------|------|
| **Baseline** | 管理なし | リソース均等配分。最適化介入なし |
| **TOC + PDCA** | Section 2 (管理理論の科学への適用) | 制約理論でボトルネック特定→PDCAサイクルで改善 |
| **AI-SciOps** | Section 4-5 (科学プロセスの自律最適化) | AIが4段階で段階的にプロセスを最適化 |

### AI-SciOpsの4段階（論文Figure 1対応）

| Stage | Time Step | 論文の概念 | 実装内容 |
|-------|-----------|-----------|---------|
| Stage 1 | 0-19 | 人間フィードバック付きプロセス置換 | 控えめなAI支援、保守的なリソース配分 |
| Stage 2 | 20-49 | 自律的プロセス最適化 | 履歴データから学習、動的リソース配分 |
| Stage 3 | 50-79 | プロセスの枝刈り・再構成 | 不確実性の削減、高度AI自動化 |
| Stage 4 | 80-99 | メタプロセス再組織化 | プロセス並列化、AI メタレビュー導入 |

## 実験結果

### 総合結果

```
戦略                                          総出力
---------------------------------------------------------
Baseline (No Optimization)                     50.86
TOC + PDCA                                     54.23  (+6.6%)
AI-SciOps (Autonomous Optimization)            69.48  (+36.6%)
```

### 結果の解釈

1. **TOC+PDCAの効果（+6.6%）**: ボトルネック（Review, Experiment）へのリソース集中により、産業界のアプローチだけでも一定の改善が得られる。これは論文Section 2で議論された「管理理論の科学への適用」の有効性を示す。

2. **AI-SciOpsの効果（+36.6%）**: 4段階の自律最適化により大幅な改善。特にStage 3（プロセス再構成）とStage 4（メタプロセス最適化）での加速が顕著。論文が主張する「AIによる科学過程全体の自律最適化」の可能性を支持する。

3. **人間ボトルネックの出現**: AI支援レベルが高まるほど、人間レビューが律速段階となる現象を確認。論文Section 3.2で議論された「人間がボトルネックになる」問題が再現された。

4. **段階的改善の重要性**: AI-SciOpsではStage 1-4の段階的移行が効果的。Stage 1での学習期間がStage 2以降の最適化の基盤となっており、論文の4段階フレームワークの妥当性を示唆する。

## 実行方法

### 依存関係

```bash
pip install matplotlib numpy
```

### シミュレーション実行

```bash
cd poc/src
python simulator.py
```

結果は `poc/results/` にJSONファイルとして保存される。

### 可視化

```bash
python visualize.py
```

6つの図が `poc/results/figures/` に生成される：
1. `01_cumulative_output.png` - 累積研究出力の比較
2. `02_system_throughput.png` - システムスループットの推移
3. `03_bottleneck_analysis.png` - ボトルネック分布
4. `04_throughput_heatmap.png` - プロセス別スループットのヒートマップ
5. `05_wip_accumulation.png` - 仕掛品（WIP）の蓄積パターン
6. `06_summary_comparison.png` - 総合比較

## ファイル構成

```
poc/
├── README.md                 # 本ファイル
├── src/
│   ├── scientific_process.py # 科学パイプラインのモデル定義
│   ├── optimizers.py         # 3つの最適化戦略の実装
│   ├── simulator.py          # シミュレーションエンジン（メイン）
│   └── visualize.py          # 結果の可視化
└── results/
    ├── *.json                # シミュレーション結果データ
    └── figures/
        └── *.png             # 生成された図
```

## 今後の発展

- 実際のLLM APIを組み込んだ動的最適化（現在はルールベースのシミュレーション）
- 物理実験を含む自然科学パイプラインへの拡張
- 複数ラボ間の協調最適化（メタサイエンスレベルの検証）
- 人間被験者による管理戦略の比較実験
